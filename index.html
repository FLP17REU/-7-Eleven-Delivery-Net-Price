# ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô HTML ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
full_html = """
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>7-Eleven Net Price App - Full Features</title>
  <style>
    body { font-family: sans-serif; background-color: #FFF8F0; padding: 20px; }
    .container { max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ccc; }
    h1 { color: #008D36; text-align: center; }
    label, select, input, button { display: block; width: 100%; margin-bottom: 10px; padding: 8px; font-size: 1em; }
    fieldset { border: 1px solid #ccc; padding: 10px; margin-bottom: 15px; }
    legend { font-weight: bold; }
    .row { display: flex; gap: 10px; margin-bottom: 8px; }
    .row > div { flex: 1; }
    .right { text-align: right; font-size: 0.9em; color: #555; }
    .orange { color: orange; font-weight: bold; }
  </style>
</head>
<body>
<div class="container">
  <div class="right" id="dateDisplay">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏ß‡∏±‡∏ô...</div>
  <h1>‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏∏‡∏ó‡∏ò‡∏¥</h1>

  <label>üì¶ ‡πÄ‡∏•‡∏Ç‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</label>
  <input type="text" id="orderId" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå">

  <label>üí∞ ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡∏ö‡∏≤‡∏ó)</label>
  <input type="number" id="totalSales" value="0" oninput="calculateNetPrice()">

  <fieldset>
    <legend>üö´ ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡πà‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</legend>
    <div id="excludedList"></div>
    <label>‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡πà‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (‡∏ö‡∏≤‡∏ó)</label>
    <input type="number" id="excludedAmount" value="0" readonly>
  </fieldset>

  <fieldset>
    <legend>üéüÔ∏è ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</legend>
    <select id="discountCode" onchange="calculateNetPrice()">
      <option value="NEW|150|50">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà (NEW) ‡∏™‡∏±‡πà‡∏á 150 ‡∏•‡∏î 50 ‡∏ö‡∏≤‡∏ó</option>
    </select>
    <label>‡πÉ‡∏™‡πà‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏à‡∏≤‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
    <input type="text" id="customCode" placeholder="‡πÄ‡∏ä‡πà‡∏ô SPECIAL30">
    <label>‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏ö‡∏≤‡∏ó)</label>
    <input type="number" id="customDiscount" value="0" oninput="calculateNetPrice()">
  </fieldset>

  <div class="orange" id="upsellMsg"></div>
  <h2 id="finalTotal">üìä ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢: 0 ‡∏ö‡∏≤‡∏ó</h2>

  <button onclick="saveOrder()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô console)</button>
</div>

<script>
const items = {
  "‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ": ["‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà", "‡∏ã‡∏¥‡∏°", "‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå-‡πÄ‡∏Å‡∏°‡∏™‡πå", "‡∏¢‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏ä‡∏†‡∏±‡∏ì‡∏ë‡πå", "‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡πà‡∏á", "‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Å‡∏≤‡∏£‡∏Å‡∏∏‡∏®‡∏• ‡∏ó‡∏∏‡∏Å‡∏ä‡∏ô‡∏¥‡∏î", "Chester -HUB", "‡∏ñ‡∏∏‡∏á‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô", "‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå", "‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏°"],
  "‡∏´‡∏°‡∏ß‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ß ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∏‡∏á": ["‡∏Ç‡πâ‡∏≤‡∏ß‡∏´‡∏≠‡∏°‡∏ú‡∏™‡∏°‡∏ï‡∏£‡∏≤‡∏â‡∏±‡∏ï‡∏£", "‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏Å‡∏£‡∏î‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ï‡∏£‡∏≤‡∏â‡∏±‡∏ï‡∏£ (‡∏ä‡∏°‡∏û‡∏π) 5‡∏Å‡∏Å.", "‡πÇ‡∏£‡∏ã‡πà‡∏≤‡∏ã‡∏≠‡∏™‡∏°‡∏∞‡πÄ‡∏Ç‡∏∑‡∏≠‡πÄ‡∏ó‡∏® 1 ‡∏Å‡∏Å.", "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏• 500 ‡∏Å‡∏£‡∏±‡∏°‡πÅ‡∏•‡∏∞ 1 ‡∏Å‡∏Å.", "‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÄ‡∏ö‡πÄ‡∏Å‡∏≠‡∏£‡∏µ 1 ‡∏Å‡∏Å.", "‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏õ‡∏≤‡∏•‡πå‡∏° ‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á", "‡∏ú‡∏á‡∏ä‡∏π‡∏£‡∏™", "‡∏ã‡∏≠‡∏™‡∏´‡∏≠‡∏¢‡∏ô‡∏≤‡∏á‡∏£‡∏°", "‡∏ô‡πâ‡∏≥‡∏õ‡∏•‡∏≤‡∏ó‡∏¥‡∏û‡∏£‡∏™ 700 ‡∏°‡∏•.", "‡∏ã‡∏∏‡∏õ‡∏ú‡∏á‡∏£‡∏™‡∏î‡∏µ 850‡∏Å."],
  "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏ä‡∏π‡∏Å‡∏≥‡∏•‡∏±‡∏á": ["‡πÄ‡∏≠‡πá‡∏°-150", "‡∏Å‡∏£‡∏∞‡∏ó‡∏¥‡∏á‡πÅ‡∏î‡∏á", "‡∏Å‡∏≤‡πÅ‡∏ü‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏µ‡πâ", "‡∏Ñ‡∏≤‡∏£‡∏≤‡∏ö‡∏≤‡∏ß‡πÅ‡∏î‡∏á", "‡∏™‡∏õ‡∏≠‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå"],
  "‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏ô‡∏°": ["‡∏ô‡∏° UHT ‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡∏î‡∏±‡∏ä‡∏°‡∏¥‡∏•‡∏•‡πå ‡∏î‡∏µ‡∏ô‡πà‡∏≤ ‡∏î‡∏µ‡∏°‡∏≠‡∏•‡∏ï‡πå ‡πÇ‡∏õ‡∏£‡πÅ‡∏•‡∏Ñ ‡πÅ‡∏•‡∏∞‡πÇ‡∏ü‡∏£‡πå‡πÇ‡∏°‡∏™‡∏ï‡πå", "‡∏ô‡∏°‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡∏¥‡πÑ‡∏•‡∏ó‡πå‡∏ï‡∏£‡∏≤‡∏´‡∏°‡∏µ", "‡∏ô‡∏°‡∏ú‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏î‡πá‡∏Å‡∏ó‡∏≤‡∏£‡∏Å", "‡∏ô‡∏°‡∏ú‡∏á‡∏™‡∏π‡∏ï‡∏£ 1 ‡πÅ‡∏•‡∏∞ ‡∏™‡∏π‡∏ï‡∏£ 2"],
  "‡∏´‡∏°‡∏ß‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°": ["‡∏ä‡∏≤‡∏ä‡∏á‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£", "‡∏ô‡πâ‡∏≥‡∏´‡∏ß‡∏≤‡∏ô‡πÄ‡∏Æ‡∏•‡∏ö‡∏•‡∏π‡∏ö‡∏≠‡∏¢", "‡πÇ‡∏ã‡∏î‡∏≤‡∏™‡∏¥‡∏á‡∏´‡πå", "‡∏ä‡∏≤‡∏ä‡∏á‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡∏ü‡∏¥‡∏ï‡πÄ‡∏ô‡πà", "‡πÄ‡∏ô‡∏™‡∏Å‡∏≤‡πÅ‡∏ü‡πÄ‡∏£‡∏î‡∏Ñ‡∏±‡∏û", "‡∏Ñ‡∏≤‡∏£‡πå‡πÄ‡∏ô‡∏ä‡∏±‡πà‡∏ô"]
};

function renderExcludedList() {
  const container = document.getElementById("excludedList");
  for (const [category, products] of Object.entries(items)) {
    const box = document.createElement("fieldset");
    const legend = document.createElement("legend");
    legend.textContent = category;
    box.appendChild(legend);
    products.forEach(product => {
      const row = document.createElement("div");
      row.className = "row";
      row.innerHTML = `
        <div><input type='checkbox' onchange='updateExcludedTotal()'> ${product}</div>
        <div><input type='number' placeholder='‡∏£‡∏≤‡∏Ñ‡∏≤' oninput='updateExcludedTotal()'></div>
      `;
      box.appendChild(row);
    });
    container.appendChild(box);
  }
}

function updateExcludedTotal() {
  let total = 0;
  document.querySelectorAll("#excludedList fieldset").forEach(field => {
    field.querySelectorAll("input[type='checkbox']").forEach((cb, i) => {
      if (cb.checked) {
        const price = parseFloat(field.querySelectorAll("input[type='number']")[i].value) || 0;
        total += price;
      }
    });
  });
  document.getElementById("excludedAmount").value = total;
  calculateNetPrice();
}

function calculateNetPrice() {
  const total = parseFloat(document.getElementById("totalSales").value) || 0;
  const excluded = parseFloat(document.getElementById("excludedAmount").value) || 0;
  const customDiscount = parseFloat(document.getElementById("customDiscount").value) || 0;
  const discountInfo = document.getElementById("discountCode").value.split("|");
  const threshold = parseFloat(discountInfo[1]);
  const discount = parseFloat(discountInfo[2]);
  const net = total - excluded;
  const upsell = net >= threshold ? 0 : threshold - net;
  const final = net + upsell - discount - customDiscount;

  document.getElementById("upsellMsg").textContent = upsell > 0 ? `üî• ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡∏Å ${upsell} ‡∏ö‡∏≤‡∏ó ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î` : "";
  document.getElementById("finalTotal").textContent = `üìä ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢: ${final} ‡∏ö‡∏≤‡∏ó`;
}

function saveOrder() {
  const data = {
    orderId: document.getElementById("orderId").value,
    totalSales: document.getElementById("totalSales").value,
    excludedAmount: document.getElementById("excludedAmount").value,
    discountCode: document.getElementById("discountCode").value,
    customCode: document.getElementById("customCode").value,
    customDiscount: document.getElementById("customDiscount").value,
    finalTotal: document.getElementById("finalTotal").textContent
  };
  console.log("üì¶ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å:", data);
  alert("‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! (‡∏î‡∏π‡πÉ‡∏ô console/log)");
}

function setupDateAndDiscount() {
  const now = new Date();
  const days = ["‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", "‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå", "‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£", "‡∏û‡∏∏‡∏ò", "‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ", "‡∏®‡∏∏‡∏Å‡∏£‡πå", "‡πÄ‡∏™‡∏≤‡∏£‡πå"];
  document.getElementById("dateDisplay").textContent = `‡∏ß‡∏±‡∏ô${days[now.getDay()]}‡∏ó‡∏µ‡πà ${now.getDate()} ${now.toLocaleString("th-TH", { month: "long" })} ${now.getFullYear() + 543}`;
  const select = document.getElementById("discountCode");
  const day = now.getDay();
  if (day === 1) select.innerHTML += `<option value="MONDAY|150|15">MONDAY ‡∏™‡∏±‡πà‡∏á 150 ‡∏ö‡∏≤‡∏ó ‡∏•‡∏î 15 ‡∏ö‡∏≤‡∏ó</option>`;
  if (day === 3) select.innerHTML += `<option value="WED30|300|30">WED30 ‡∏™‡∏±‡πà‡∏á 300 ‡∏ö‡∏≤‡∏ó ‡∏•‡∏î 30 ‡∏ö‡∏≤‡∏ó</option>`;
  if (day === 6) select.innerHTML += `<option value="TMD40|300|40">TMD40 ‡∏™‡∏±‡πà‡∏á 300 ‡∏ö‡∏≤‡∏ó ‡∏•‡∏î 40 ‡∏ö‡∏≤‡∏ó</option>`;
  if (day === 0) select.innerHTML += `<option value="SUN30|300|30">SUN30 ‡∏™‡∏±‡πà‡∏á 300 ‡∏ö‡∏≤‡∏ó ‡∏•‡∏î 30 ‡∏ö‡∏≤‡∏ó</option>`;
}

window.onload = () => {
  setupDateAndDiscount();
  renderExcludedList();
  calculateNetPrice();
};
</script>
</body>
</html>
